-- Euva Settings Module
-- Compatible with Euva pink theme layout system

local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

local SettingsModule = {}

function SettingsModule.CreateUI(parent)
    local settingsContent = Instance.new("ScrollingFrame")
    settingsContent.Size = UDim2.new(1, 0, 1, 0)
    settingsContent.BackgroundTransparency = 1
    settingsContent.BorderSizePixel = 0
    settingsContent.ScrollBarThickness = 4
    settingsContent.ScrollBarImageColor3 = Color3.fromRGB(200, 180, 190)
    settingsContent.CanvasSize = UDim2.new(0, 0, 0, 0)
    settingsContent.AutomaticCanvasSize = Enum.AutomaticSize.Y
    settingsContent.Parent = parent

    local listLayout = Instance.new("UIListLayout")
    listLayout.Padding = UDim.new(0, 12)
    listLayout.SortOrder = Enum.SortOrder.LayoutOrder
    listLayout.Parent = settingsContent

    -- ============================================
    -- SCRIPT MANAGEMENT
    -- ============================================

    local reloadTitle = Instance.new("TextLabel")
    reloadTitle.Size = UDim2.new(1, -20, 0, 30)
    reloadTitle.BackgroundTransparency = 1
    reloadTitle.Text = "SCRIPT MANAGEMENT"
    reloadTitle.Font = Enum.Font.GothamBold
    reloadTitle.TextSize = 15
    reloadTitle.TextColor3 = Color3.fromRGB(60, 50, 55)
    reloadTitle.TextXAlignment = Enum.TextXAlignment.Left
    reloadTitle.LayoutOrder = 1
    reloadTitle.Parent = settingsContent

    -- Reload button
    local reloadButton = Instance.new("TextButton")
    reloadButton.Size = UDim2.new(1, -20, 0, 42)
    reloadButton.BackgroundColor3 = Color3.fromRGB(240, 220, 230)
    reloadButton.BorderSizePixel = 0
    reloadButton.Text = "Reload Script"
    reloadButton.Font = Enum.Font.GothamBold
    reloadButton.TextSize = 14
    reloadButton.TextColor3 = Color3.fromRGB(60, 50, 55)
    reloadButton.AutoButtonColor = false
    reloadButton.LayoutOrder = 2
    reloadButton.Parent = settingsContent

    local reloadCorner = Instance.new("UICorner")
    reloadCorner.CornerRadius = UDim.new(0, 6)
    reloadCorner.Parent = reloadButton

    reloadButton.MouseEnter:Connect(function()
        reloadButton.BackgroundColor3 = Color3.fromRGB(250, 230, 240)
    end)
    reloadButton.MouseLeave:Connect(function()
        reloadButton.BackgroundColor3 = Color3.fromRGB(240, 220, 230)
    end)

    reloadButton.MouseButton1Click:Connect(function()
        reloadButton.Text = "Reloading..."
        reloadButton.BackgroundColor3 = Color3.fromRGB(255, 200, 200)

        task.wait(0.5)

        -- Destroy existing GUI
        for _, gui in pairs(CoreGui:GetChildren()) do
            if gui.Name == "EuvaMainGUI" then
                gui:Destroy()
            end
        end

        local blur = game:GetService("Lighting"):FindFirstChild("EuvaBlur")
        if blur then blur:Destroy() end

        print("[Euva] GUI destroyed - Please re-execute your script")
    end)

    local reloadNote = Instance.new("TextLabel")
    reloadNote.Size = UDim2.new(1, -20, 0, 30)
    reloadNote.BackgroundTransparency = 1
    reloadNote.Text = "This will close the GUI. Re-execute your script to reload."
    reloadNote.Font = Enum.Font.Gotham
    reloadNote.TextSize = 11
    reloadNote.TextColor3 = Color3.fromRGB(120, 110, 115)
    reloadNote.TextXAlignment = Enum.TextXAlignment.Left
    reloadNote.TextWrapped = true
    reloadNote.LayoutOrder = 3
    reloadNote.Parent = settingsContent

    -- ============================================
    -- KEYBINDS
    -- ============================================

    local keybindsTitle = Instance.new("TextLabel")
    keybindsTitle.Size = UDim2.new(1, -20, 0, 30)
    keybindsTitle.BackgroundTransparency = 1
    keybindsTitle.Text = "KEYBINDS"
    keybindsTitle.Font = Enum.Font.GothamBold
    keybindsTitle.TextSize = 15
    keybindsTitle.TextColor3 = Color3.fromRGB(60, 50, 55)
    keybindsTitle.TextXAlignment = Enum.TextXAlignment.Left
    keybindsTitle.LayoutOrder = 4
    keybindsTitle.Parent = settingsContent

    local keybindInfo = Instance.new("TextLabel")
    keybindInfo.Size = UDim2.new(1, -20, 0, 50)
    keybindInfo.BackgroundTransparency = 1
    keybindInfo.Text = "Right Shift - Toggle GUI Visibility\n\nPress Right Shift to hide/show the GUI"
    keybindInfo.Font = Enum.Font.Gotham
    keybindInfo.TextSize = 12
    keybindInfo.TextColor3 = Color3.fromRGB(80, 70, 75)
    keybindInfo.TextXAlignment = Enum.TextXAlignment.Left
    keybindInfo.TextWrapped = true
    keybindInfo.LayoutOrder = 5
    keybindInfo.Parent = settingsContent

    -- ============================================
    -- INFORMATION
    -- ============================================

    local infoTitle = Instance.new("TextLabel")
    infoTitle.Size = UDim2.new(1, -20, 0, 30)
    infoTitle.BackgroundTransparency = 1
    infoTitle.Text = "INFORMATION"
    infoTitle.Font = Enum.Font.GothamBold
    infoTitle.TextSize = 15
    infoTitle.TextColor3 = Color3.fromRGB(60, 50, 55)
    infoTitle.TextXAlignment = Enum.TextXAlignment.Left
    infoTitle.LayoutOrder = 6
    infoTitle.Parent = settingsContent

    local infoText = Instance.new("TextLabel")
    infoText.Size = UDim2.new(1, -20, 0, 100)
    infoText.BackgroundTransparency = 1
    infoText.Text = "Euva GUI v2.0\n\nFeatures:\n- Combat: Hitbox, Aimlock, Auto Defuse\n- Visual: ESP, Health Bars, Object ESP\n- Player: Reset, JumpHeight, Noclip, Invisible\n- Misc: MoveTool, RotateTool, RingShape, RPM, Safe-NOS\n- Settings: Script Management"
    infoText.Font = Enum.Font.Gotham
    infoText.TextSize = 12
    infoText.TextColor3 = Color3.fromRGB(80, 70, 75)
    infoText.TextXAlignment = Enum.TextXAlignment.Left
    infoText.TextYAlignment = Enum.TextYAlignment.Top
    infoText.TextWrapped = true
    infoText.LayoutOrder = 7
    infoText.Parent = settingsContent
end

function SettingsModule.Cleanup()
    -- No cleanup needed
end

return SettingsModule
